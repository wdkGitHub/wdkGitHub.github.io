<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Oracle不可见字符</title>
    <link href="/2020/04/19/Oracle%E4%B8%8D%E5%8F%AF%E8%A7%81%E5%AD%97%E7%AC%A6/"/>
    <url>/2020/04/19/Oracle%E4%B8%8D%E5%8F%AF%E8%A7%81%E5%AD%97%E7%AC%A6/</url>
    
    <content type="html"><![CDATA[<h1 id="Oracle-不可见字符处理"><a href="#Oracle-不可见字符处理" class="headerlink" title="Oracle 不可见字符处理"></a>Oracle 不可见字符处理</h1><h2 id="1、处理过程"><a href="#1、处理过程" class="headerlink" title="1、处理过程"></a>1、处理过程</h2><ul><li>表结构</li></ul><pre><code class="hljs SQL"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> telphone_temp_20190821(    telnum <span class="hljs-built_in">varchar2</span>(<span class="hljs-number">32</span>));</code></pre><ul><li>查询数据，确定Ascii值</li></ul><pre><code class="hljs SQL"><span class="hljs-keyword">select</span> <span class="hljs-keyword">ROWNUM</span>||<span class="hljs-string">'#'</span>||<span class="hljs-keyword">trim</span>(telnum)||<span class="hljs-string">'#'</span>||lengthb(telnum)||<span class="hljs-string">'#'</span>|| dump(telnum) <span class="hljs-keyword">from</span> telphone_temp_20190821 <span class="hljs-keyword">where</span>  <span class="hljs-keyword">ROWNUM</span> &lt;<span class="hljs-number">3</span>;</code></pre><pre><code class="hljs SQL">ROWNUM||'<span class="hljs-comment">#'||TRIM(TELNUM)||'#'||LENGTHB(TELNUM)||'#'||DUMP(TELNUM)</span><span class="hljs-comment">-----------------------------------------------------------------</span>1<span class="hljs-comment">#              146           #17#Typ=1 Len=17: 9,9,49,52,54,9,9</span>2<span class="hljs-comment">#              144           #15#Typ=1 Len=15: 9,9,49,52,52,9,9</span></code></pre><blockquote><p>不可见字符 ascii值等于9</p></blockquote><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-keyword">chr</span>(<span class="hljs-number">9</span>) <span class="hljs-keyword">from</span> dual;</code></pre><ul><li>replace剔除不可见字符，利用<code>chr()</code>函数将数值转换成<strong><em>不可见</em></strong>字符</li></ul><pre><code class="hljs SQL"><span class="hljs-keyword">select</span> <span class="hljs-keyword">replace</span>(telnum, <span class="hljs-keyword">chr</span>(<span class="hljs-number">9</span>), <span class="hljs-string">''</span>) <span class="hljs-keyword">from</span> telphone_temp_20190821 <span class="hljs-keyword">where</span> <span class="hljs-keyword">ROWNUM</span> &lt;<span class="hljs-number">3</span>;</code></pre><h2 id="2、Oracle-函数"><a href="#2、Oracle-函数" class="headerlink" title="2、Oracle 函数"></a>2、Oracle 函数</h2><ul><li><p><code>dump(expression [, return_format] [, start_position] [, length] )</code></p><pre><code>expression：要分析的表达式。return_format：决定了返回值的格式，该参数可以是以下任何值：     ● 8 ：八进制符号     ● 10 ：十进制符号     ● 16 ：十六进制符号     ● 17 ：单个字符     ● 1008 ：带字符集名称的八进制符号     ● 1010 ：带字符集名称的十进制符号     ● 1016 ：带字符集名称的十六进制符号     ● 1017 ：带字符集名称的单个字符start_position ：可选的，要返回的内部表示的起始位置。length ：可选的，要返回的内部表示的长度。</code></pre></li></ul><pre><code>返回值: Typ=1 Len=17: [CharacterSet=ZHS16GBK] 9,9,49,52,54,9,9    ● Type : 字段类型（见表格）    ● Len ：长度    ● 每个字符的 Ascii值</code></pre><ul><li><code>lengthb()</code>：返回的是 字节数</li></ul><pre><code class="hljs SQL"><span class="hljs-keyword">select</span> <span class="hljs-keyword">length</span>(<span class="hljs-string">'Oracle'</span>) <span class="hljs-keyword">from</span> dual结果：<span class="hljs-number">6</span><span class="hljs-keyword">select</span> lengthb(<span class="hljs-string">'Oracle'</span>) <span class="hljs-keyword">from</span> dual结果：<span class="hljs-number">6</span><span class="hljs-keyword">select</span> <span class="hljs-keyword">length</span>(<span class="hljs-string">'甲骨文'</span>) <span class="hljs-keyword">from</span> dual结果：<span class="hljs-number">3</span><span class="hljs-keyword">select</span> lengthb(<span class="hljs-string">'甲骨文'</span>) <span class="hljs-keyword">from</span> dual结果：<span class="hljs-number">6</span></code></pre><ul><li><code>length()</code> ：返回的是 字符数 </li><li><code>trim()</code> ：函数从字符串的开头，结尾或两端删除空格或指定的字符。</li><li><code>replace(char, search_string [, replace_string])</code>：) 如果没有指定replace_string 变量的值，那么当发现search_string 变量的值时，就将其删除</li><li><code>ascii(single_character)</code> ：返回代表指定字符的数字值代码</li><li><code>chr(number_code)</code> ：函数可以根据数字代码返回字符</li></ul><h2 id="3-对照表"><a href="#3-对照表" class="headerlink" title="3. 对照表"></a>3. 对照表</h2><p><strong>ASCII对照表</strong></p><table><thead><tr><th>ASCII值</th><th>控制字符</th><th>ASCII值</th><th>控制字符</th><th>ASCII值</th><th>控制字符</th><th>ASCII值</th><th>控制字符</th></tr></thead><tbody><tr><td>0</td><td>NUT</td><td>32</td><td>(space)</td><td>64</td><td>@</td><td>96</td><td>、</td></tr><tr><td>1</td><td>SOH</td><td>33</td><td>!</td><td>65</td><td>A</td><td>97</td><td>a</td></tr><tr><td>2</td><td>STX</td><td>34</td><td>“</td><td>66</td><td>B</td><td>98</td><td>b</td></tr><tr><td>3</td><td>ETX</td><td>35</td><td>#</td><td>67</td><td>C</td><td>99</td><td>c</td></tr><tr><td>4</td><td>EOT</td><td>36</td><td>$</td><td>68</td><td>D</td><td>100</td><td>d</td></tr><tr><td>5</td><td>ENQ</td><td>37</td><td>%</td><td>69</td><td>E</td><td>101</td><td>e</td></tr><tr><td>6</td><td>ACK</td><td>38</td><td>&amp;</td><td>70</td><td>F</td><td>102</td><td>f</td></tr><tr><td>7</td><td>BEL</td><td>39</td><td>,</td><td>71</td><td>G</td><td>103</td><td>g</td></tr><tr><td>8</td><td>BS</td><td>40</td><td>(</td><td>72</td><td>H</td><td>104</td><td>h</td></tr><tr><td>9</td><td>HT</td><td>41</td><td>)</td><td>73</td><td>I</td><td>105</td><td>i</td></tr><tr><td>10</td><td>LF</td><td>42</td><td>*</td><td>74</td><td>J</td><td>106</td><td>j</td></tr><tr><td>11</td><td>VT</td><td>43</td><td>+</td><td>75</td><td>K</td><td>107</td><td>k</td></tr><tr><td>12</td><td>FF</td><td>44</td><td>,</td><td>76</td><td>L</td><td>108</td><td>l</td></tr><tr><td>13</td><td>CR</td><td>45</td><td>-</td><td>77</td><td>M</td><td>109</td><td>m</td></tr><tr><td>14</td><td>SO</td><td>46</td><td>.</td><td>78</td><td>N</td><td>110</td><td>n</td></tr><tr><td>15</td><td>SI</td><td>47</td><td>/</td><td>79</td><td>O</td><td>111</td><td>o</td></tr><tr><td>16</td><td>DLE</td><td>48</td><td>0</td><td>80</td><td>P</td><td>112</td><td>p</td></tr><tr><td>17</td><td>DCI</td><td>49</td><td>1</td><td>81</td><td>Q</td><td>113</td><td>q</td></tr><tr><td>18</td><td>DC2</td><td>50</td><td>2</td><td>82</td><td>R</td><td>114</td><td>r</td></tr><tr><td>19</td><td>DC3</td><td>51</td><td>3</td><td>83</td><td>S</td><td>115</td><td>s</td></tr><tr><td>20</td><td>DC4</td><td>52</td><td>4</td><td>84</td><td>T</td><td>116</td><td>t</td></tr><tr><td>21</td><td>NAK</td><td>53</td><td>5</td><td>85</td><td>U</td><td>117</td><td>u</td></tr><tr><td>22</td><td>SYN</td><td>54</td><td>6</td><td>86</td><td>V</td><td>118</td><td>v</td></tr><tr><td>23</td><td>TB</td><td>55</td><td>7</td><td>87</td><td>W</td><td>119</td><td>w</td></tr><tr><td>24</td><td>CAN</td><td>56</td><td>8</td><td>88</td><td>X</td><td>120</td><td>x</td></tr><tr><td>25</td><td>EM</td><td>57</td><td>9</td><td>89</td><td>Y</td><td>121</td><td>y</td></tr><tr><td>26</td><td>SUB</td><td>58</td><td>:</td><td>90</td><td>Z</td><td>122</td><td>z</td></tr><tr><td>27</td><td>ESC</td><td>59</td><td>;</td><td>91</td><td>[</td><td>123</td><td>{</td></tr><tr><td>28</td><td>FS</td><td>60</td><td>&lt;</td><td>92</td><td>/</td><td>124</td><td></td></tr><tr><td>29</td><td>GS</td><td>61</td><td>=</td><td>93</td><td>]</td><td>125</td><td>}</td></tr><tr><td>30</td><td>RS</td><td>62</td><td>&gt;</td><td>94</td><td>^</td><td>126</td><td>`</td></tr><tr><td>31</td><td>US</td><td>63</td><td>?</td><td>95</td><td>_</td><td>127</td><td>DEL</td></tr></tbody></table><p><strong>特殊字符解释</strong></p><table><thead><tr><th>NUL空</th><th>VT 垂直制表</th><th>SYN 空转同步</th></tr></thead><tbody><tr><td>STX 正文开始</td><td>CR 回车</td><td>CAN 作废</td></tr><tr><td>ETX 正文结束</td><td>SO 移位输出</td><td>EM 纸尽</td></tr><tr><td>EOY 传输结束</td><td>SI 移位输入</td><td>SUB 换置</td></tr><tr><td>ENQ 询问字符</td><td>DLE 空格</td><td>ESC 换码</td></tr><tr><td>ACK 承认</td><td>DC1 设备控制1</td><td>FS 文字分隔符</td></tr><tr><td>BEL 报警</td><td>DC2 设备控制2</td><td>GS 组分隔符</td></tr><tr><td>BS 退一格</td><td>DC3 设备控制3</td><td>RS 记录分隔符</td></tr><tr><td>HT 横向列表</td><td>DC4 设备控制4</td><td>US 单元分隔符</td></tr><tr><td>LF 换行</td><td>NAK 否定</td><td>DEL 删除</td></tr></tbody></table><p><strong>Oracle字段类型</strong></p><table><thead><tr><th>CODE</th><th>Type</th></tr></thead><tbody><tr><td>1</td><td>VARCHAR2</td></tr><tr><td>2</td><td>NUMBER</td></tr><tr><td>8</td><td>LONG</td></tr><tr><td>12</td><td>DATE</td></tr><tr><td>23</td><td>RAW</td></tr><tr><td>24</td><td>LONG RAW</td></tr><tr><td>69</td><td>ROWID</td></tr><tr><td>96</td><td>CHAR</td></tr><tr><td>112</td><td>CLOB</td></tr><tr><td>113</td><td>BLOB</td></tr><tr><td>114</td><td>BFILE</td></tr><tr><td>180</td><td>TIMESTAMP</td></tr><tr><td>181</td><td>TIMESTAMP WITH TIMEZONE</td></tr><tr><td>182</td><td>INTERVAL YEAR TO MONTH</td></tr><tr><td>183</td><td>INTERVAL DAY TO SECOND</td></tr><tr><td>208</td><td>UROWID</td></tr><tr><td>231</td><td>TIMESTAMP WITH LOCAL TIMEZONE</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>Oracle</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Oracle</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
